<div class="container">
  <div class="track-info">
    <img [src]="currentTrack?.image" alt="Album cover" class="album-cover">
    <div class="track-details">
      <span class="track-name">{{ currentTrack?.title }}</span>
      <span class="track-artist">
        <span class="track-artist">
          {{ currentTrack?.artist?.name }}
        </span>
      </span>
    </div>
  </div>
  <div class="player-container">
    <div class="player-controls">
      <div class="side-buttons">
        <button class="shuffle" (click)="toggleShuffle()" [class.activate] = "shuffleMode">
          <svg data-encore-id="icon" role="img" aria-hidden="true" class="e-9812-icon e-9812-baseline" viewBox="0 0 16 16" style="height: 16px; width: 16px;">
            <path d="M13.151.922a.75.75 0 1 0-1.06 1.06L13.109 3H11.16a3.75 3.75 0 0 0-2.873 1.34l-6.173 7.356A2.25 2.25 0 0 1 .39 12.5H0V14h.391a3.75 3.75 0 0 0 2.873-1.34l6.173-7.356a2.25 2.25 0 0 1 1.724-.804h1.947l-1.017 1.018a.75.75 0 0 0 1.06 1.06L15.98 3.75 13.15.922zM.391 3.5H0V2h.391c1.109 0 2.16.49 2.873 1.34L4.89 5.277l-.979 1.167-1.796-2.14A2.25 2.25 0 0 0 .39 3.5z"></path><path d="m7.5 10.723.98-1.167.957 1.14a2.25 2.25 0 0 0 1.724.804h1.947l-1.017-1.018a.75.75 0 1 1 1.06-1.06l2.829 2.828-2.829 2.828a.75.75 0 1 1-1.06-1.06L13.109 13H11.16a3.75 3.75 0 0 1-2.873-1.34l-.787-.938z"></path></svg>
        </button>
        <button class="prev" (click)="prevTrack()">
          <svg data-encore-id="icon" role="img" aria-hidden="true" class="e-9812-icon e-9812-baseline" viewBox="0 0 16 16" style="height: 16px; width: 16px;"><path d="M3.3 1a.7.7 0 0 1 .7.7v5.15l9.95-5.744a.7.7 0 0 1 1.05.606v12.575a.7.7 0 0 1-1.05.607L4 9.149V14.3a.7.7 0 0 1-.7.7H1.7a.7.7 0 0 1-.7-.7V1.7a.7.7 0 0 1 .7-.7h1.6z"></path></svg>
        </button>
      </div>
      <button class="play" id="player" (click)="togglePlay()">
        <svg data-encore-id="icon" role="img" aria-hidden="true" *ngIf="!isPlaying" viewBox="0 0 16 16" style="height: 16px; width: 16px; fill: black"><path d="M3 1.713a.7.7 0 0 1 1.05-.607l10.89 6.288a.7.7 0 0 1 0 1.212L4.05 14.894A.7.7 0 0 1 3 14.288V1.713z"></path></svg>
        <svg data-encore-id="icon" role="img" aria-hidden="true" *ngIf="isPlaying" viewBox="0 0 16 16" style="height: 16px; width: 16px; fill: black"><path d="M2.7 1a.7.7 0 0 0-.7.7v12.6a.7.7 0 0 0 .7.7h2.6a.7.7 0 0 0 .7-.7V1.7a.7.7 0 0 0-.7-.7H2.7zm8 0a.7.7 0 0 0-.7.7v12.6a.7.7 0 0 0 .7.7h2.6a.7.7 0 0 0 .7-.7V1.7a.7.7 0 0 0-.7-.7h-2.6z"></path></svg>
      </button>
      <div class="side-buttons">
        <button class="next" (click)="nextTrack()">
          <svg data-encore-id="icon" role="img" aria-hidden="true" class="e-9812-icon e-9812-baseline" viewBox="0 0 16 16" style="height: 16px; width: 16px;"><path d="M12.7 1a.7.7 0 0 0-.7.7v5.15L2.05 1.107A.7.7 0 0 0 1 1.712v12.575a.7.7 0 0 0 1.05.607L12 9.149V14.3a.7.7 0 0 0 .7.7h1.6a.7.7 0 0 0 .7-.7V1.7a.7.7 0 0 0-.7-.7h-1.6z"></path></svg>
        </button>
        <button class="repeat" (click)="toggleRepeat()" [class.activate]="repeatMode !== 'none'">
          <svg id="none" role="img" aria-hidden="true" *ngIf="repeatMode=== 'none' " viewBox="0 0 16 16" style="height: 16px; width: 16px; fill:white"><path d="M0 4.75A3.75 3.75 0 0 1 3.75 1h8.5A3.75 3.75 0 0 1 16 4.75v5a3.75 3.75 0 0 1-3.75 3.75H9.81l1.018 1.018a.75.75 0 1 1-1.06 1.06L6.939 12.75l2.829-2.828a.75.75 0 1 1 1.06 1.06L9.811 12h2.439a2.25 2.25 0 0 0 2.25-2.25v-5a2.25 2.25 0 0 0-2.25-2.25h-8.5A2.25 2.25 0 0 0 1.5 4.75v5A2.25 2.25 0 0 0 3.75 12H5v1.5H3.75A3.75 3.75 0 0 1 0 9.75v-5z"></path></svg>
          <svg id="none" role="img" aria-hidden="true" *ngIf="repeatMode=== 'all' " viewBox="0 0 16 16" style="height: 16px; width: 16px; fill:#1ed760"><path d="M0 4.75A3.75 3.75 0 0 1 3.75 1h8.5A3.75 3.75 0 0 1 16 4.75v5a3.75 3.75 0 0 1-3.75 3.75H9.81l1.018 1.018a.75.75 0 1 1-1.06 1.06L6.939 12.75l2.829-2.828a.75.75 0 1 1 1.06 1.06L9.811 12h2.439a2.25 2.25 0 0 0 2.25-2.25v-5a2.25 2.25 0 0 0-2.25-2.25h-8.5A2.25 2.25 0 0 0 1.5 4.75v5A2.25 2.25 0 0 0 3.75 12H5v1.5H3.75A3.75 3.75 0 0 1 0 9.75v-5z"></path></svg>
          <svg data-encore-id="icon" role="img" aria-hidden="true" *ngIf="repeatMode === 'one' " viewBox="0 0 16 16" style="height: 16px; width: 16px;fill: #1ed760"><path d="M0 4.75A3.75 3.75 0 0 1 3.75 1h.75v1.5h-.75A2.25 2.25 0 0 0 1.5 4.75v5A2.25 2.25 0 0 0 3.75 12H5v1.5H3.75A3.75 3.75 0 0 1 0 9.75v-5ZM12.25 2.5a2.25 2.25 0 0 1 2.25 2.25v5A2.25 2.25 0 0 1 12.25 12H9.81l1.018-1.018a.75.75 0 0 0-1.06-1.06L6.939 12.75l2.829 2.828a.75.75 0 1 0 1.06-1.06L9.811 13.5h2.439A3.75 3.75 0 0 0 16 9.75v-5A3.75 3.75 0 0 0 12.25 1h-.75v1.5h.75Z"></path><path d="m8 1.85.77.694H6.095V1.488c.697-.051 1.2-.18 1.507-.385.316-.205.51-.51.583-.913h1.32V8H8V1.85Z"></path><path d="M8.77 2.544 8 1.85v.693h.77Z"></path></svg>
        </button>
      </div>
    </div>
    <div class="progress-container">
      <div class="time-container">
        <span class="current-time">{{ formatTime(currentTime) }}</span>
      </div>
      <input
        type="range"
        class="progress-bar"
        min="0"
        [max]="duration"
        [value]="currentTime"
        [style.--progress]="getProgressPercent()"
        (input)="onSeekChange($event)"
        (mousedown)="onSeekStart()"
        (mouseup)="onSeekEnd()"
        (touchstart)="onSeekStart()"
        (touchend)="onSeekEnd()"
        step="0.1"
      >
      <div class="time-container">
        <span class="time-duration">{{ formatTime(duration) }}</span>
      </div>

    </div>
  </div>
</div>
